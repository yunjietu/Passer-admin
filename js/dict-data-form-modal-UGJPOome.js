import{S as a,r as e,s as t}from"./index-ZxpkwSGJ.js";import{b as r}from"./ant-design-vue-DFQN5xdf.js";import{r as o,a as s,b2 as l,ag as i,o as d,bz as m,ai as n,c as u,u as p}from"./@vue-wTDZSr7R.js";import"./@ant-design-rHMPkvPq.js";import"./vue-DiME50Ru.js";import"./@ctrl-B1U3vBhl.js";import"./lodash-DJa03WnC.js";import"./vue3-json-viewer-BcgvkQJY.js";import"./dayjs-CSPdbndm.js";import"./vue-i18n-DNlNJnDH.js";import"./@intlify-BXJl0ReV.js";import"./pinia-BY_IhmGU.js";import"./axios-BlN9Xwzv.js";import"./crypto-js-VShT-BxW.js";import"./sm-crypto-BtLvRUKc.js";import"./jsbn-qAKIvbVZ.js";import"./nprogress-DmlD4NmX.js";import"./vue-router-BJIyZwNj.js";import"./mitt-CNZ6avp8.js";import"./@babel-rSvM8Ko2.js";import"./resize-observer-polyfill-OVnto9HH.js";import"./@emotion-COtJ1lvC.js";import"./stylis-Bzr8AwGH.js";import"./vue-types-BvQfMnDx.js";import"./dom-align-CCb293uS.js";import"./lodash-es-DiERF9Dp.js";import"./async-validator-BTKOuuO-.js";import"./throttle-debounce-w9OM8Bxz.js";const c=n("br",null,null,-1),j={__name:"dict-data-form-modal",emits:["reloadList"],setup(n,{expose:j,emit:v}){const b=v,f=o(),h={dictId:void 0,dictCode:void 0,dictDataId:void 0,sortOrder:0,dataValue:"",dataLabel:"",remark:""};let y=s({...h});const g={dataValue:[{required:!0,message:"请输入 字典项值"}],dataLabel:[{required:!0,message:"请输入 字典项名称"}],sortOrder:[{required:!0,message:"请输入排序"}]},x=o(!1);function w(){Object.assign(y,h),x.value=!1}function D(){f.value.validate().then((async()=>{a.show();try{y.dictDataId?await e.updateDictData(y):await e.addDictData(y),r.success((y.dictDataId?"修改":"添加")+"成功"),b("reloadList"),w()}catch(o){t.captureError(o)}finally{a.hide()}})).catch((a=>{r.error("参数验证错误，请仔细填写表单数据!")}))}return j({showModal:function(a,e,t){Object.assign(y,h),a&&Object.assign(y,a),y.dictId=e,y.dictCode=t,x.value=!0}}),(a,e)=>{const t=l("a-input"),r=l("a-form-item"),o=l("a-input-number"),s=l("a-textarea"),n=l("a-form"),j=l("a-modal");return d(),i(j,{open:x.value,title:p(y).dictDataId?"编辑字典值":"添加字典值","ok-text":"确认","cancel-text":"取消",onOk:D,onCancel:w},{default:m((()=>[c,u(n,{ref_key:"formRef",ref:f,model:p(y),rules:g,"label-col":{span:5},"wrapper-col":{span:16}},{default:m((()=>[u(r,{label:"字典项名称",name:"dataLabel"},{default:m((()=>[u(t,{value:p(y).dataLabel,"onUpdate:value":e[0]||(e[0]=a=>p(y).dataLabel=a),placeholder:"请输入 字典项名称"},null,8,["value"])])),_:1}),u(r,{label:"字典项值",name:"dataValue"},{default:m((()=>[u(t,{value:p(y).dataValue,"onUpdate:value":e[1]||(e[1]=a=>p(y).dataValue=a),placeholder:"请输入 字典项值"},null,8,["value"])])),_:1}),u(r,{label:"排序",name:"sort",help:"值越大越靠前"},{default:m((()=>[u(o,{style:{width:"100%"},value:p(y).sortOrder,"onUpdate:value":e[2]||(e[2]=a=>p(y).sortOrder=a),min:0,max:1e3},null,8,["value"])])),_:1}),u(r,{label:"备注",name:"remark"},{default:m((()=>[u(s,{modelValue:p(y).remark,"onUpdate:modelValue":e[3]||(e[3]=a=>p(y).remark=a),style:{width:"100%",height:"100px",outline:"none"}},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["open","title"])}}};export{j as default};
