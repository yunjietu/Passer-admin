import{j as e}from"./index-ZxpkwSGJ.js";import{_ as a}from"./index-CAEs7VG8.js";import{a as t,r as s,b2 as l,ag as r,o as i,bz as o,c as p,ah as d,J as n,be as m,ai as c}from"./@vue-wTDZSr7R.js";import"./ant-design-vue-DFQN5xdf.js";import"./@babel-rSvM8Ko2.js";import"./@ant-design-rHMPkvPq.js";import"./vue-DiME50Ru.js";import"./@ctrl-B1U3vBhl.js";import"./resize-observer-polyfill-OVnto9HH.js";import"./@emotion-COtJ1lvC.js";import"./stylis-Bzr8AwGH.js";import"./vue-types-BvQfMnDx.js";import"./dom-align-CCb293uS.js";import"./lodash-es-DiERF9Dp.js";import"./dayjs-CSPdbndm.js";import"./async-validator-BTKOuuO-.js";import"./throttle-debounce-w9OM8Bxz.js";import"./lodash-DJa03WnC.js";import"./vue3-json-viewer-BcgvkQJY.js";import"./vue-i18n-DNlNJnDH.js";import"./@intlify-BXJl0ReV.js";import"./pinia-BY_IhmGU.js";import"./axios-BlN9Xwzv.js";import"./crypto-js-VShT-BxW.js";import"./sm-crypto-BtLvRUKc.js";import"./jsbn-qAKIvbVZ.js";import"./nprogress-DmlD4NmX.js";import"./vue-router-BJIyZwNj.js";import"./mitt-CNZ6avp8.js";const u={style:{"white-space":"pre-wrap","word-wrap":"break-word",margin:"0"}},b={__name:"feedback-detail-modal",emits:["refresh"],setup(b,{expose:f,emit:j}){const y=j,h=t({feedbackId:"",feedbackContent:"",feedbackAttachment:[],contactInfo:"",userName:"",userType:"",createTime:"",readFlag:!1,readTime:"",readUserName:""}),g=s(!1);return f({show:function(a){Object.assign(h,a),g.value=!0,async function(a){if(!a.readFlag)try{await e.markAsRead(a.feedbackId),y("refresh")}catch(t){}}(a)}}),(e,t)=>{const s=l("a-descriptions-item"),b=l("a-tag"),f=l("a-descriptions"),j=l("a-modal");return i(),r(j,{open:g.value,"onUpdate:open":t[0]||(t[0]=e=>g.value=e),width:800,title:"反馈详情",destroyOnClose:!0,footer:null,centered:""},{default:o((()=>[p(f,{bordered:"",column:2,size:"small"},{default:o((()=>[p(s,{labelStyle:{width:"80px"},span:1,label:"反馈人"},{default:o((()=>[n(m(h.userName),1)])),_:1}),p(s,{labelStyle:{width:"120px"},span:1,label:"反馈时间"},{default:o((()=>[n(m(h.createTime),1)])),_:1}),p(s,{labelStyle:{width:"80px"},span:1,label:"反馈人类型"},{default:o((()=>[n(m(e.$smartEnumPlugin.getDescByValue("USER_TYPE_ENUM",h.userType)),1)])),_:1}),h.contactInfo?(i(),r(s,{key:0,labelStyle:{width:"120px"},span:1,label:"联系方式"},{default:o((()=>[n(m(h.contactInfo),1)])),_:1})):d("",!0),p(s,{labelStyle:{width:"120px"},span:1,label:"已读状态"},{default:o((()=>[p(b,{color:h.readFlag?"green":"red"},{default:o((()=>[n(m(h.readFlag?"已读":"未读"),1)])),_:1},8,["color"])])),_:1}),p(s,{labelStyle:{width:"80px"},span:2,label:"反馈内容"},{default:o((()=>[c("pre",u,m(h.feedbackContent),1)])),_:1}),h.feedbackAttachment&&h.feedbackAttachment.length>0?(i(),r(s,{key:1,labelStyle:{width:"80px"},span:2,label:"反馈图片"},{default:o((()=>[p(a,{fileList:h.feedbackAttachment,type:"picture"},null,8,["fileList"])])),_:1})):d("",!0),h.readFlag?(i(),r(s,{key:2,labelStyle:{width:"80px"},span:1,label:"已读时间"},{default:o((()=>[n(m(h.readTime),1)])),_:1})):d("",!0),h.readFlag?(i(),r(s,{key:3,labelStyle:{width:"120px"},span:1,label:"已读人"},{default:o((()=>[n(m(h.readUserName),1)])),_:1})):d("",!0)])),_:1})])),_:1},8,["open"])}}};export{b as default};
