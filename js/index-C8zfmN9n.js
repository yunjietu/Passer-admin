import{_ as e,i as a,F as t,s as o}from"./index-ZxpkwSGJ.js";import{T as l,E as s}from"./@wangeditor-next-BWE1cd2r.js";import{r as d,w as u,s as r,q as n,b as i,o as p,c as m,u as c,aR as f}from"./@vue-wTDZSr7R.js";const v={style:{border:"1px solid #ccc"}},g=e({__name:"index",props:{modelValue:String,height:{type:Number,default:500}},emits:["update:modelValue"],setup(e,{expose:g,emit:x}){const h={MENU_CONF:{}};let y={async customUpload(e,l){try{const o=new FormData;o.append("file",e),l((await a.uploadFile(o,t.COMMON.value)).data.fileUrl)}catch(s){o.captureError(s)}}};h.MENU_CONF.uploadImage=y,h.MENU_CONF.uploadVideo=y;const N=d();let V=e;u((()=>V.modelValue),(e=>{N.value=e}),{immediate:!0,deep:!0});const _=x,C=r(),O=e=>{C.value=e},b=e=>{_("update:modelValue",N.value)};return n((()=>{const e=C.value;null!=e&&e.destroy()})),g({editorRef:C,getHtml:function(){const e=C.value.getHtml();return"<p><br></p>"===e?"":e},getText:function(){return C.value.getText()}}),(a,t)=>(p(),i("div",v,[m(c(l),{style:{"border-bottom":"1px solid #ccc"},editor:C.value},null,8,["editor"]),m(c(s),{style:f([{"overflow-y":"hidden"},{height:`${e.height}px`}]),modelValue:N.value,"onUpdate:modelValue":t[0]||(t[0]=e=>N.value=e),defaultConfig:h,onOnCreated:O,onOnChange:b},null,8,["style","modelValue"])]))}},[["__scopeId","data-v-fd61790f"]]);export{g as W};
