import{_ as e}from"./lodash-DJa03WnC.js";import{v as t}from"./index-ZxpkwSGJ.js";import{r as o,e as a,b2 as l,ag as r,o as s,u as i}from"./@vue-wTDZSr7R.js";import"./@ant-design-rHMPkvPq.js";import"./vue-DiME50Ru.js";import"./@ctrl-B1U3vBhl.js";import"./ant-design-vue-DFQN5xdf.js";import"./@babel-rSvM8Ko2.js";import"./resize-observer-polyfill-OVnto9HH.js";import"./@emotion-COtJ1lvC.js";import"./stylis-Bzr8AwGH.js";import"./vue-types-BvQfMnDx.js";import"./dom-align-CCb293uS.js";import"./lodash-es-DiERF9Dp.js";import"./dayjs-CSPdbndm.js";import"./async-validator-BTKOuuO-.js";import"./throttle-debounce-w9OM8Bxz.js";import"./vue3-json-viewer-BcgvkQJY.js";import"./vue-i18n-DNlNJnDH.js";import"./@intlify-BXJl0ReV.js";import"./pinia-BY_IhmGU.js";import"./axios-BlN9Xwzv.js";import"./crypto-js-VShT-BxW.js";import"./sm-crypto-BtLvRUKc.js";import"./jsbn-qAKIvbVZ.js";import"./nprogress-DmlD4NmX.js";import"./vue-router-BJIyZwNj.js";import"./mitt-CNZ6avp8.js";const p={__name:"help-doc-catalog-tree-select",props:{value:Number,multiple:{type:Boolean,default:!1}},emits:["update:value"],setup(p,{expose:m,emit:n}){const u=p,d=n;let j=o([]);async function c(){let e=h((await t.getAll()).data,0);j.value=e}function h(t,o){let a=t.filter((e=>e.parentId===o))||[];return a=e.sortBy(a,(e=>e.sort)),a.forEach((e=>{e.children=h(t,e.helpDocCatalogId)})),function(e){for(let t=0;t<e.length;t++)0!==t?t!==e.length-1?(e[t].preId=e[t-1].helpDocCatalogId,e[t].nextId=e[t+1].helpDocCatalogId):(e[t].preId=e[t-1].helpDocCatalogId,e[t].nextId=void 0):e[t].nextId=e.length>1?e[1].helpDocCatalogId:void 0}(a),a}function v(e){d("update:value",e)}return a(c),m({queryCatalogTree:c}),(e,t)=>{const o=l("a-tree-select");return s(),r(o,{value:u.value,treeData:i(j),fieldNames:{label:"name",key:"helpDocCatalogId",value:"helpDocCatalogId"},"show-search":"",style:{width:"100%"},"dropdown-style":{maxHeight:"400px",overflow:"auto"},placeholder:"请选择目录","allow-clear":"","tree-default-expand-all":"",multiple:u.multiple,onChange:v},null,8,["value","treeData","multiple"])}}};export{p as default};
