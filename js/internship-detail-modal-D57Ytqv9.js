import{a as e}from"./account-api-Ia2S-UTU.js";import{_ as a,s as t}from"./index-ZxpkwSGJ.js";import{r as s,m as i,b2 as o,ag as r,o as n,bz as l,c as p,J as u,be as m,b as d,F as v,b0 as c}from"./@vue-wTDZSr7R.js";import"./ant-design-vue-DFQN5xdf.js";import"./@babel-rSvM8Ko2.js";import"./@ant-design-rHMPkvPq.js";import"./vue-DiME50Ru.js";import"./@ctrl-B1U3vBhl.js";import"./resize-observer-polyfill-OVnto9HH.js";import"./@emotion-COtJ1lvC.js";import"./stylis-Bzr8AwGH.js";import"./vue-types-BvQfMnDx.js";import"./dom-align-CCb293uS.js";import"./lodash-es-DiERF9Dp.js";import"./dayjs-CSPdbndm.js";import"./async-validator-BTKOuuO-.js";import"./throttle-debounce-w9OM8Bxz.js";import"./lodash-DJa03WnC.js";import"./vue3-json-viewer-BcgvkQJY.js";import"./vue-i18n-DNlNJnDH.js";import"./@intlify-BXJl0ReV.js";import"./pinia-BY_IhmGU.js";import"./axios-BlN9Xwzv.js";import"./crypto-js-VShT-BxW.js";import"./sm-crypto-BtLvRUKc.js";import"./jsbn-qAKIvbVZ.js";import"./nprogress-DmlD4NmX.js";import"./vue-router-BJIyZwNj.js";import"./mitt-CNZ6avp8.js";const j={key:0,class:"insurance-info"},f=["href"],y=a({__name:"internship-detail-modal",setup(a,{expose:y}){y({showModal:async function(a){if(b.value=!0,h.value={},k.value="",!(a&&a.uid&&a.token&&a.deviceId&&a.bmid))return void(k.value="缺少必要的参数，无法获取实习详情");g.value=!0;try{const t=await e.getInternshipDetail({uid:a.uid,token:a.token,deviceId:a.deviceId,bmid:a.bmid});t.ok&&t.data?h.value=t.data:k.value=t.msg||"获取实习详情失败"}catch(s){t.captureError(s),k.value=s?.message||"获取实习详情失败，请稍后再试"}finally{g.value=!1}}});const b=s(!1),g=s(!1),h=s({}),k=s(""),_=i((()=>h.value.insuranceInfo?h.value.insuranceInfo.split("; ").filter((e=>""!==e.trim())):[]));function I(){b.value=!1}return(e,a)=>{const t=o("a-alert"),s=o("a-descriptions-item"),i=o("a-descriptions"),y=o("a-spin"),x=o("a-modal");return n(),r(x,{open:b.value,title:"实习详情信息",width:700,centered:!0,style:{top:"20px"},"ok-text":"关闭","cancel-button-props":{style:{display:"none"}},onOk:I,onCancel:I},{default:l((()=>[p(y,{spinning:g.value},{default:l((()=>[k.value?(n(),r(t,{key:0,type:"error",message:k.value,"show-icon":"",style:{"margin-bottom":"16px"}},null,8,["message"])):(n(),r(i,{key:1,bordered:"",column:1},{default:l((()=>[p(s,{label:"实习进度"},{default:l((()=>[u(m(h.value.internshipProgress||"暂无数据"),1)])),_:1}),p(s,{label:"报名信息"},{default:l((()=>[u(m(h.value.registrationInfo||"暂无数据"),1)])),_:1}),p(s,{label:"保险信息"},{default:l((()=>[h.value.insuranceInfo?(n(),d("div",j,[(n(!0),d(v,null,c(_.value,((e,a)=>(n(),d("p",{key:a},m(e),1)))),128))])):(n(),d(v,{key:1},[u("暂无数据")],64))])),_:1}),p(s,{label:"协议URL"},{default:l((()=>[h.value.agreementUrl?(n(),d("a",{key:0,href:h.value.agreementUrl,target:"_blank"},m(h.value.agreementUrl),9,f)):(n(),d(v,{key:1},[u("暂无数据")],64))])),_:1})])),_:1}))])),_:1},8,["spinning"])])),_:1},8,["open"])}}},[["__scopeId","data-v-26254d0c"]]);export{y as default};
