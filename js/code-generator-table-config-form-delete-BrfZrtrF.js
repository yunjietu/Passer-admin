import{_ as e}from"./lodash-DJa03WnC.js";import t from"./index-DPBcXeae.js";import{_ as l,o as a}from"./index-ZxpkwSGJ.js";import{b as s}from"./ant-design-vue-DFQN5xdf.js";import{i as o,r as i,a as r,b2 as u,ag as m,o as n,bz as d,c as p,ah as f,J as y,be as j,u as v,b as c,ai as b,aY as D,aW as _}from"./@vue-wTDZSr7R.js";import"./@ant-design-rHMPkvPq.js";import"./vue-DiME50Ru.js";import"./@ctrl-B1U3vBhl.js";import"./vue3-json-viewer-BcgvkQJY.js";import"./dayjs-CSPdbndm.js";import"./vue-i18n-DNlNJnDH.js";import"./@intlify-BXJl0ReV.js";import"./pinia-BY_IhmGU.js";import"./axios-BlN9Xwzv.js";import"./crypto-js-VShT-BxW.js";import"./sm-crypto-BtLvRUKc.js";import"./jsbn-qAKIvbVZ.js";import"./nprogress-DmlD4NmX.js";import"./vue-router-BJIyZwNj.js";import"./mitt-CNZ6avp8.js";import"./@babel-rSvM8Ko2.js";import"./resize-observer-polyfill-OVnto9HH.js";import"./@emotion-COtJ1lvC.js";import"./stylis-Bzr8AwGH.js";import"./vue-types-BvQfMnDx.js";import"./dom-align-CCb293uS.js";import"./lodash-es-DiERF9Dp.js";import"./async-validator-BTKOuuO-.js";import"./throttle-debounce-w9OM8Bxz.js";const h={key:0,class:"smart-margin-top10"},g={key:0},E={key:1,stlye:"color:red"},S=(e=>(D("data-v-26a5e5a4"),e=e(),_(),e))((()=>b("strong",null,"deleted_flag",-1))),P=l({__name:"code-generator-table-config-form-delete",setup(l,{expose:b}){const D=o("tableInfo"),_=i(""),P=i(),x=r({...{isSupportDelete:!0,isPhysicallyDeleted:void 0,deleteEnum:void 0}}),N={isSupportDelete:[{required:!0,message:"请输入 isSupportDelete"}],isPhysicallyDeleted:[{required:!0,message:"请输入 是否为物理删除"}],deleteEnum:[{required:!0,message:"请输入 删除类型"}]};return b({setData:function(t,l){let s=function(t){if(!t)return null;let l=t.filter((t=>e.startsWith(t.columnName,"deleted_flag")));return l&&l.length>0?l[0]:null}(t);s&&(_.value=s.columnName);let o=l.deleteInfo;x.isSupportDelete=!o||o.isSupportDelete,x.isPhysicallyDeleted=o&&o.isPhysicallyDeleted?o.isPhysicallyDeleted:!s,x.deleteEnum=o&&o.deleteEnum?o.deleteEnum:a.SINGLE_AND_BATCH.value},getForm:function(){return Object.assign({},x)},validateForm:function(){return new Promise(((e,t)=>{P.value.validate().then((()=>{e(!0)})).catch((e=>{s.error(" 请检查【4.删除】表单，有参数验证错误"),t(e)}))}))}}),(e,l)=>{const a=u("a-form-item"),s=u("a-radio-button"),o=u("a-radio-group"),i=u("a-form");return n(),m(i,{ref_key:"formRef",ref:P,model:x,rules:N,"label-col":{span:6},style:{width:"600px"}},{default:d((()=>[p(a,{label:"数据库表名词"},{default:d((()=>[y(j(v(D).tableName),1)])),_:1}),p(a,{label:"数据库表备注"},{default:d((()=>[y(j(v(D).tableComment),1)])),_:1}),p(a,{label:"是否允许删除",name:"isSupportDelete"},{default:d((()=>[p(o,{value:x.isSupportDelete,"onUpdate:value":l[0]||(l[0]=e=>x.isSupportDelete=e),"button-style":"solid"},{default:d((()=>[p(s,{value:!0},{default:d((()=>[y("支持删除")])),_:1}),p(s,{value:!1},{default:d((()=>[y("不允许删除")])),_:1})])),_:1},8,["value"])])),_:1}),x.isSupportDelete?(n(),m(a,{key:0,label:"是否为物理删除",name:"isPhysicallyDeleted"},{default:d((()=>[p(o,{value:x.isPhysicallyDeleted,"onUpdate:value":l[1]||(l[1]=e=>x.isPhysicallyDeleted=e),"button-style":"solid"},{default:d((()=>[p(s,{value:!0},{default:d((()=>[y("物理删除")])),_:1}),p(s,{value:!1},{default:d((()=>[y("假删")])),_:1})])),_:1},8,["value"]),x.isPhysicallyDeleted?f("",!0):(n(),c("div",h,[_.value?(n(),c("span",g," 假删字段为："+j(_.value),1)):(n(),c("span",E,[y(" 系统未检测出假删字段，假删字段名词应该为 ： "),S]))]))])),_:1})):f("",!0),x.isSupportDelete?(n(),m(a,{key:1,label:"删除类型",name:"deleteEnum"},{default:d((()=>[p(t,{enumName:"CODE_DELETE_ENUM",value:x.deleteEnum,"onUpdate:value":l[2]||(l[2]=e=>x.deleteEnum=e),width:"200px"},null,8,["value"])])),_:1})):f("",!0)])),_:1},8,["model"])}}},[["__scopeId","data-v-26a5e5a4"]]);export{P as default};
